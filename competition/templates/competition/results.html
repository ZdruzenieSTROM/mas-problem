{% extends "competition/base.html" %}

{% block title %}Poradie - {{game.name}}{% endblock %}

{% block content %}
{% load competition_tags %}
<h1>Výsledky</h1>
{% if results %}
{% for result in results %}
<h2>{{result.name}}</h2>
<table>
    <tr>
        <th>Poradie</th>
        <th>Meno</th>
        <th>Škola</th>
        <th>Ročník</th>
        <th>Úroveň</th>
        <th>Počet vyriešených úloh</th>
        <th>Čas poslednej odovzdanej úlohy</th>
    </tr>
    {% for competitor in result.results %}
    <tr>
        <td>{{ competitor.place }}.</td>
        <td>{{ competitor }}</td>
        <td>{{ competitor.school }}</td>
        <td>{{ competitor.grade }}</td>
        <td>{{ competitor.max_level|to_letter }}</td>
        <td>{{ competitor.solved_problems}}</td>
        <td>{%if competitor.last_correct_submission %}
            {{ competitor.last_correct_submission|date:'H:i:s' }}
            {% else%}-{%endif%}</td>
    </tr>
    {% endfor %}
</table>
{% endfor %}
{% else %}
Súťaž práve prebieha. Výsledky budú zverejnené po súťaži.
{% endif %}
{% endblock %}